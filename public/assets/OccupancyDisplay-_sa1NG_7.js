import{r as l,j as e,F as h,a6 as g,N as u}from"./index-dlybMJW5.js";function b(){const[d,i]=l.useState([]),[n,x]=l.useState(!0);l.useEffect(()=>{r();const s=setInterval(r,3e4);return()=>clearInterval(s)},[]);async function r(){try{const t=await(await fetch("/api/v1/public/occupancy")).json();t.success&&t.data&&i(t.data)}catch{}x(!1)}const c=new Date,o=c.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),m=c.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return e.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"ðŸ…¿ï¸ Parking Availability"}),e.jsxs("p",{className:"text-gray-400 text-lg",children:[m," Â· ",o]})]}),n?e.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(s=>{const t=s.total_slots>0?(s.total_slots-s.available_slots)/s.total_slots*100:0,a=s.available_slots===0;return e.jsxs("div",{className:`rounded-2xl p-6 border ${a?"border-red-500/50 bg-red-950/30":"border-emerald-500/30 bg-gray-900"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{weight:"fill",className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:s.name}),e.jsx("p",{className:"text-gray-500 text-sm",children:s.address})]})]}),a?e.jsx(g,{weight:"fill",className:"w-8 h-8 text-red-500"}):e.jsx(u,{weight:"fill",className:"w-8 h-8 text-emerald-500"})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-5xl font-bold ${a?"text-red-400":"text-emerald-400"}`,children:s.available_slots}),e.jsxs("span",{className:"text-gray-500 text-xl ml-2",children:["/ ",s.total_slots]})]}),e.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${a?"bg-red-500/20 text-red-400":"bg-emerald-500/20 text-emerald-400"}`,children:a?"FULL":`${Math.round(t)}% occupied`})]}),e.jsx("div",{className:"mt-4 h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${a?"bg-red-500":t>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${t}%`}})})]},s.id)})}),e.jsx("p",{className:"text-center text-gray-600 text-sm mt-12",children:"Auto-refreshes every 30 seconds"})]})})}export{b as OccupancyDisplayPage};
